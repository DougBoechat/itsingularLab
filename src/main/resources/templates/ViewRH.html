<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<div th:insert="LayoutRH.html"></div>
<script>
	$(function() {
		// Sidebar toggle behavior
		$('#sidebarCollapse').on('click', function() {
			$('#sidebar, #content').toggleClass('active');
		});
	});
</script>

<body>
<div class="d-flex">
	<div th:replace="Menu :: menu">...</div>
	<div class="container" id="content">
	<h3 align="center">Lista de Vagas RH</h3>
		<br /> <br />
		<button id="sidebarCollapse" type="button"
			class="btn btn-light bg-white rounded-pill shadow-sm">
			<i class="fa fa-bars mr-2"></i><small
				class="text-uppercase font-weight-bold">Menu</small>
		</button>
	<div class="panel-body">
		<form th:action="@{/recursos-humanos/vagas/pesquisar}" method="GET" class="form-horizontal">
			<div class="form-group">
				<div class="col-sm-6">
					<div class="input-group">
						<input class="form-control" name="filtro" id="filtro" placeholder="Filtrar vagas" autofocus="autofocus" th:value="${filtro}" /> <span class="input-group-btn">
							<button type="submit" class="btn btn-default">
								<i class="glyphicon glyphicon-search"></i>
							</button>
						</span>
					</div>
				</div>
			</div>
		</form>

		<div class="table-responsive">
			<table class="table table-bordered table-striped ">
				<thead>
					<tr>
						<th class="text-center">Data Solicitação</th>
						<th class="text-center col-md-1">Cliente</th>
						<th class="text-center col-md-1">Vaga</th>
						<th class="text-center col-md-1">Status</th>
						<th class="col-md-1"></th>
					</tr>
				</thead>

				<tbody>

					<tr th:each="vaga: ${vagas.content}">
						<td class="text-center col-md-1" th:text="${vaga.dataSolicitacao}"></td>
						<td class="text-center" th:text="${{vaga.cliente}}"></td>
						<td class="text-center col-md-1"
							th:text="${{vaga.cargo}}|"></td>
						<td class="text-center col-md-1" th:attr="data-role=${vaga.id}">
							<span class="label" th:text="${vaga.status}"
							th:classappend="${vaga.status == 'Pendente'? 'label-danger' : 'label-success'}">
						</span>
						</td>
						<td class="text-center col-md-1"><a 
							class="btn btn-link btn-xs js-view-information" data-toggle="modal"
							th:href="@{/recursos-humanos/vagas/{id}(id=${vaga.id})}"
							title="Vizualizar" rel="tooltip" data-placement="top"> <span
								class="glyphicon glyphicon-eye-open"></span>
						</a></td>
					</tr>
					<tr>
						<td class="text-center col-md-2" colspan="6"
							th:if="${#lists.isEmpty(vagas)}">Vagas não encontradas</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!--Pagination  -->
			<div id="bottom" class="row" >
				<div class="col-md-12">
				<ul class="nav">
					<li th:if="${vagas.hasPrevious()}" class="nav item">
	                    <a class="page-link disabled" th:href="@{/recursos-humanos/view(page=${vagas.number-1},size=${vagas.size})}">Anterior</a>
	                </li>
	                
	                <li class="nav item" th:each="i : ${#numbers.sequence(0, vagas.totalPages - 1)}">
	                    <a th:href="@{/recursos-humanos/view(page=${i},size=${vagas.size})}" th:text="${i}" class="page-link"
	                       th:classappend="${currentPage}==${i}?'active':''">[[${i}+1]]</a>
	                </li>
	                
	                <li th:if="${vagas.hasNext()}" class="nav item" >
	                    <a class="page-link" th:href="@{/recursos-humanos/view(page=${vagas.number+1},size=${vagas.size})}">Próximo</a>
	                </li>
	            </ul>
           	</div>
           </div>
        
        <!-- Modal Loading-->   
       <div class="modal loading" id="modalAguardeBatchInput" aria-labelledby="modalAguarde" role="dialog" aria-hidden="true">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="mySmallModalLabel">Aguarde</h4>
				</div>
				<div class="modal-body">
					<center><img src="/img/rh/loading.gif" /></center>
				</div>
			</div>
		</div>    
        <!-- Modal Loading-->      
           
           
		<!-- Modal -->
			<div class="modal myForm" id="vagas-modal" tabindex="-1" role="dialog" aria-hidden="true">
			  	<div class="modal-content">
						<div class="modal-body">
				                <table id="table" class="table cell-border table-responsive table-striped table-bordered" style="width:0%">
				                    <thead>
				                        <tr>
				                         	<th>CPF</th>
				                            <th>Nome</th>
				                            <th>Data Nascimento</th>
				                            <th>E-mail</th>
				                            <th>Telefone</th>
				                            <th>Currículo</th>
				                        </tr>
				                    </thead>
				                </table>
						</div>

						<div class="modal-footer">
				        <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
				      </div>
			</div>
		 </div>
		</div>
	</div>
</body>
</html>